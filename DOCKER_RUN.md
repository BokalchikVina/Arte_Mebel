# üê≥ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Docker

## ‚ö° –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± (3 –∫–æ–º–∞–Ω–¥—ã)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
git clone https://github.com/BokalchikVina/Arte_Mebel.git
cd Arte_Mebel

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker
docker-compose up dev

# 3. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
# http://localhost:3000
```

**–í–°–Å! –°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!** üéâ

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å

### –¢–æ–ª—å–∫–æ Docker!

**Windows/Mac:**
1. –°–∫–∞—á–∞–π—Ç–µ [Docker Desktop](https://www.docker.com/products/docker-desktop/)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**Linux:**
```bash
curl -fsSL https://get.docker.com | sh
sudo systemctl start docker
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
docker --version
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: Docker version 24.0.0 (–∏–ª–∏ –≤—ã—à–µ)
```

---

## üöÄ –î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã

### 1. Development (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
docker-compose up dev
```

**–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏:**
- ‚úÖ Hot reload - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É
- ‚úÖ –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
- ‚úÖ Source maps –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚è±Ô∏è –ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

**–†–∞–∑–º–µ—Ä:** ~500 MB

### 2. Production (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

```bash
docker-compose up prod
```

**–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏:**
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (non-root user)

**–†–∞–∑–º–µ—Ä:** ~150 MB

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫

```bash
# Development
docker-compose up dev

# Production
docker-compose up prod

# –í —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up -d dev
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
# –ò–ª–∏
docker-compose down
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
docker-compose logs -f dev
```

### –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
docker-compose exec dev sh
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

### 1. –°–æ–∑–¥–∞–π—Ç–µ .env.local (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
cp .env.docker .env.local
```

### 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```env
# .env.local
NEXT_PUBLIC_YANDEX_METRIKA_ID=–≤–∞—à-id
NEXT_PUBLIC_PHONE=+79991234567
NEXT_PUBLIC_EMAIL=info@your-site.ru
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ

```bash
docker-compose down
docker-compose up dev
```

---

## üíª –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:

```bash
./docker-start.sh
```

**–ú–µ–Ω—é:**
1. Development —Ä–µ–∂–∏–º
2. Production —Ä–µ–∂–∏–º
3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
4. –£–¥–∞–ª–∏—Ç—å –≤—Å—ë

---

## üì± –î–æ—Å—Ç—É–ø —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞

### 1. –£–∑–Ω–∞–π—Ç–µ IP –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

**Windows:**
```bash
ipconfig
```

**Mac/Linux:**
```bash
ifconfig
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ

```
http://–≤–∞—à-ip:3000
```

–ü—Ä–∏–º–µ—Ä: `http://192.168.1.100:3000`

---

## ‚ùì –ü—Ä–æ–±–ª–µ–º—ã?

### –ü–æ—Ä—Ç 3000 –∑–∞–Ω—è—Ç?

–ò–∑–º–µ–Ω–∏—Ç–µ –≤ `docker-compose.yml`:
```yaml
ports:
  - "3001:3000"
```

–û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:3001`

### Docker –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è?

**Windows/Mac:**
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop

**Linux:**
```bash
sudo systemctl start docker
```

### –ú–µ–¥–ª–µ–Ω–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è?

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ!  
Docker —Å–∫–∞—á–∏–≤–∞–µ—Ç –æ–±—Ä–∞–∑—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.  
–í—Ç–æ—Ä–æ–π —Ä–∞–∑ –±—É–¥–µ—Ç –±—ã—Å—Ç—Ä–æ (–∫—ç—à).

### –ù—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å?

```bash
docker-compose up --build dev
```

### –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞?

```bash
docker-compose down -v
docker system prune -a
```

---

## üéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Docker

### –ë–µ–∑ Docker:
```bash
npm install          # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm run dev         # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
# –ù—É–∂–µ–Ω Node.js 18+
# –ú–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π
# –ó–∞—Å–æ—Ä—è–µ—Ç —Å–∏—Å—Ç–µ–º—É
```

### –° Docker:
```bash
docker-compose up dev
# –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É!
# –ù–µ –Ω—É–∂–µ–Ω Node.js
# –û–¥–∏–Ω–∞–∫–æ–≤–∞—è —Å—Ä–µ–¥–∞ –≤–µ–∑–¥–µ
# –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ –æ—Ç —Å–∏—Å—Ç–µ–º—ã
```

---

## üìä –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏?

### –ü—Ä–∏ `docker-compose up dev`:

1. üê≥ Docker —Å–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Node.js 18
2. üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏
3. üìÅ –ú–æ–Ω—Ç–∏—Ä—É–µ—Ç –≤–∞—à –∫–æ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
4. üöÄ –ó–∞–ø—É—Å–∫–∞–µ—Ç `npm run dev`
5. ‚úÖ –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `localhost:3000`

**–í–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä —á–∏—Å—Ç—ã–π!**  
–í—Å—ë –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

---

## üåê –î–µ–ø–ª–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### –ù–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
# 1. –°–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑
docker build -t furniture-store:prod .

# 2. –ó–∞–ª–µ–π—Ç–µ –Ω–∞ Docker Hub
docker push username/furniture-store:prod

# 3. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
docker pull username/furniture-store:prod
docker run -d -p 80:3000 username/furniture-store:prod
```

### Docker Compose –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ docker-compose.yml –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp docker-compose.yml user@server:/path/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
docker-compose up -d prod
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[DOCKER.md](./DOCKER.md)** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Docker
- **[DOCKER_QUICKSTART.md](./DOCKER_QUICKSTART.md)** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- **[README.md](./README.md)** - –æ–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

---

## üéØ –ß–µ–∫–ª–∏—Å—Ç

- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏–ª Docker
- [ ] –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–ª —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª `docker-compose up dev`
- [ ] –û—Ç–∫—Ä—ã–ª `http://localhost:3000`
- [ ] –°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ

---

## üí° –ö–æ–º–∞–Ω–¥—ã —à–ø–∞—Ä–≥–∞–ª–∫–∞

```bash
# –ó–∞–ø—É—Å–∫
docker-compose up dev           # Development
docker-compose up prod          # Production
docker-compose up -d dev        # –í —Ñ–æ–Ω–µ

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down             # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker-compose down -v          # + —É–¥–∞–ª–∏—Ç—å volumes

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
docker-compose logs -f          # –õ–æ–≥–∏
docker-compose ps               # –°—Ç–∞—Ç—É—Å
docker stats                    # –†–µ—Å—É—Ä—Å—ã

# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose exec dev sh      # –í–æ–π—Ç–∏
docker-compose exec dev npm run lint  # –ö–æ–º–∞–Ω–¥–∞

# –û—á–∏—Å—Ç–∫–∞
docker-compose down -v          # –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker system prune -a          # –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
```

---

**–ó–∞–ø—É—Å–∫–∞–π—Ç–µ –∏ –ø–æ–ª—å–∑—É–π—Ç–µ—Å—å!** üê≥üöÄ

```bash
docker-compose up dev
```

**–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ:**  
http://localhost:3000

**–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å!** ‚ú®
